# 线程 | 进程

    进程 - 是CPU资源分配的最小单位
    线程 - 是CPU调度的最小单位
    线程是建立在进程基础上的程序运行单位， 一个进程中可以有多个线程

    把进程比作火车, 线程比车厢
    1. 线程, 只能在进程下运行 (车厢无法脱离火车进行)
    2. 一个进程可以有多个线程 (火车有多个车厢)
    3. 不同进程之间的数据很难共享 (不同列车无法变通
    4. 不同的线程之间数据共享 (不同车厢可以随意走动)
    5. 进程比线程消耗更多的资源 (火车比车厢更耗资源)
    6. 进程之间不会互相印象, 但是线程会影响整个进程 (火车之间不影响, 车厢会影响整个火车)
    7. 互斥锁: 进程使用的内存可以上锁, 某些线程正在使用时, 其他线程需要等待 (火车洗手间)
    8. 信号量: 进程使用的内存可以定量 (餐车用餐数量)

# event loop

    event loop 是js的事件;
    分为两种:
      1. 宏任务 macro task: Script代码, 定时任务等
      2. 微任务 micro task: Promise.then() nextTick等
    事件循环:
      1. 先执行宏观任务，再执行微观任务，宏任务和微任务放置在不同的 event 队列中
      2. 同步任务进入主进程，异步进入 event 队列中，会注册函数，并将回调函数放在队列中 「同步和异步是不同的 event 队列」
      3. 同步任务执行完毕后，从 event 队列中读取时间放在主进程中执行，回调函数可能还包含不同的任务
      4. 事件循环的过程，就是执行各种同步和异步的回调函数的过程
      * 重复上面的过程，所有的时间都会在这个循环内执行；

# 将宏任务和微任务比作银行业务

    去银行办理业务, 需要先取号(注册事件), 取完号之后排队(队列);
    排队的人, 就是一个个宏任务, 必须顺序执行;
    A开始办理业务, A所有的业务都是微任务, 可能会有很多拓展业务(Promise.then);
    A有一个朋友B也要办理业务, A不能直接办理, 需要帮B取号(异步回调);
