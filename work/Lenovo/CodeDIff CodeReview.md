# 什么是code diff?
    字面含义是 代码差异比较，一种补充测试的手段。
    需要注意的是code diff和code review的区别。

# code diff 开始前需要做的准备
    1 确认需求实现——QA和DEV一起梳理对需求的实现情况
    2 评估影响范围——评估本次实现的代码改动对整体业务的影响范围 和 本次测试需要花费的成本
    3 补充测试点——根据开发的代码逻辑需要补充未覆盖的测试点，以及回归点
    4 提前发现代码错误——业务逻辑缺失、代码语法bug、异常处理bug等
    5 加深技术实现理解——更深入的了解需求实现的方式能够加大测试的深度

# 什么时候做code diff?
    首次介入测试，进行整体代码diff
    提交bug修复版本，进行增量代码diff
    发布前整体在diff一下关键点

    1、提测前：比对branch与master，找到本次修改内容，确定测试访问；
    2、测试中：btag1与btag2，找到上一次测试后开发修改的内容；
    3、发布前：btag与branch，检查将上线版本是否有为侧式内容。

# 如何执行code diff?
    开发给QA讲如何实现，QA提问、找茬（有目的的问）
    比如：
      是否需要防抖节流?
      数据为空,null,undefined,或者和定义type不同时如何处理?
      是否会发生空指针的情况
      是否有错误的逻辑?
      参数和调用是否都使用正确?

    前端需要考虑的内容:
      1. 需求层面:
          - 产品逻辑和需求高度一致(正确性和完整性)
          - 设计高度还原(特殊情况需要提前报备)
          - 修复bug时,尽量做到: 最少的改动,最少的影响范围
      2. 接口层面:
          - 查看接口文档时, 从功能入手分析: url,method,params,response是否满足场景
          - 不考虑接口的性能和重复性; 只关心调用过程中的交互相关内容
      3. 代码层面:
          - 检查分支名,检查commit message和MR描述信息,避免出现功能和覆盖面的遗漏
          - 循环结构,递归调用,检查退出条件,避免出现死循环
          - 逻辑判断,运算表达式是否规范完善, 数据结构,数据类型,布尔值非空等情况
          - 针对复制粘贴的代码,需要确认业务逻辑是否完全适用; (是否需要对代码进行改进? 正常运行的代码不一定是正确的代码)
          - 文案是否按照最新的需求文档修改? 范围是否正确? 我们需要考虑国际化
          - 对基础类的修改, 需要检查所有的调用, 确定影响的模块, 需要着重说明
          - 考虑一下性能问题(仅限于插件升级, 开发新功能时); 考虑一下: 浏览器兼容性和缓存方面问题

          * 所有问题都通过之后, 思考: 实现的手段是否最优? 从这写方面入手分析: 语义化?硬编码?扩展性?复用性?精简度?
          * "如非必要,勿增实体", 这句话在代码开发中十分合适
      4. 配置层面:
          - 管理工具的性能: webpack vite esbuild gulp 等
      5. 监控日志:
          开发过程中的debug, console,埋点等内容
          上线之后的日志, 在页面中?入库?

# 达成的目标
    能够从内到外的完全把控整个项目的质量，发布上线能够更靠谱，出现问题也能及时找到问题

    QA code diff都在做什么
    1、防止开发合并代码出错。要不删除了别人的要不删除了自己的，比如代码冲突后简单的选择使用他人或自己；
    2、开发夹杂私货，在不通知QA的情况下私自修改bug或增加功能；
    3、检查代码是否符合公司编写规范，包括：检查注释、日志、监控是否添加完成；
    4、检查代码修改逻辑是否符合业务逻辑；
    5、根据修改内容明确测试范围；
    6、检查最终上线代码是否经过测试，比如你在测试最后一般开发发现个问题没有告诉QA就修改了这样就会将未测试的代码带到线上；
    7、检查配置文件是否修改正确。比如你有多套配置文件，检查线上环境配置测试环境配置是否正确；
    8、提高QA对技术实现的理解；
    9、发现代码业务逻辑漏洞。比如有些开发对业务不熟悉修改内容影响其它业务正常运行；

[参考文档](https://www.cnblogs.com/zzxworks/articles/13812524.html)
