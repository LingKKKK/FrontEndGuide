# 国际化文案系统
[wiki](https://wiki.lenovows.com/pages/viewpage.action?pageId=8177531)

## 目的
- 国际化文案配置可视化
- 统一国际化文案的配置
- 简化国际化文案的开发流程
- 提高国际化开发效率

* 目前各端各项目，都有自己的国际化配置方案，统一起来比较繁琐，需要每个端都去兼容；

## 使用用户
- 前端开发
- 后端开发
- 产品经理
- 运营人员
  
* 所有参与开发的人员都会使用到这套流程

## 系统角色
- 管理员
- 文案配置人
- 审批人

* 产品经理制定文案内容，相关人员替换文案，负责人进行审批
* 最好是传一份json文件，自动进行匹配

## 功能
- 一个key对应多个语言文案
- 采用标准的国际化代码：地区、语言，兼容现有系统的语言代码
- 支持文案内变量占位符
- 支持 版本(version)、分应用(application)/分组(group)
- 版本上线过程需要审批，或者文案修改需要审批
- 支持excel批量导入文案
- 支持从http接口拉取文案
- 支持使用translate API自动翻译文案
- fallback策略

# 痛点及现状

## 产品国际化
### 诉求
提升产品国际化程度，增加国际化文案语种
* 如果可以批量录入，国际化的种类会兼容更多

### 现状
- 文案素材:
  - 手动抽取，产生遗漏
- 文案提供: 
  - 产品经理的文案提供过程，不了解产品已有文案，产生重复劳动 文案涉及多端应用场景时，可能产生多次重复提供的文案不一致的情况
- 技术实现:
  - 每添加一个国际化语种，需要增加一个文案资源文件，文件格式相同，仅语种不同，全过程手动处理，重复工作量大
  - 文案国际化协作过程以线下沟通的方式，无协作流程。
  - 多端重复工作

Vue-i18n方案，加载预置的国际化文案静态资源，每个语种对应一个文案资源文件

## 国际化文案平台
### 诉求
- 统一产品国际化文案来源，为多端提供国际化文案数据及资源支持
- 整合文案协作流程，引入文案审核、文案发布环节
- 管理产品国际化文案版本

### 技术方案
### Web端
vue-i18n
#### 加载静态文案资源
**文案平台**提供文案资源导出功能，导出资源格式支持多端应用；然后手动替换资源文件
  > **功能需求**，导出版本、格式、端别要求。一期需求，无需改变现有文案方案

#### 加载动态文案数据
？？？

### 文案平台
#### 文案数据初始化
现有产品文案导入功能，现有文案提取
  > **功能需求**，如何从现有应用中提取文案，简化数据初始化过程。一期需求

#### 用户权限
- 普通角色，查看，导出
- 产品角色，文案维护，导入，导出
- 管理员角色

#### 日志功能
操作日志
* 不记录登入登出等，只保存改动之后的申请，审批日志
* 将sql保存多个版本，方便回滚

#### 版本管理

#### 端别管理

#### 文案数据
特殊字符
占位符
数据库存储


## 数据表设计
dict_language：语种信息
dict_line_of_business：业务线信息

dict_line_of_business：业务线语种信息
biz_native_message：本地化文案信息

biz_i18n_of_message：国际化文案信息

biz_status_of_business：业务状态
biz_app_secret：应用端识别码

* 端别，语种，文案 >>> 输出国际化文案内容

## 网站国际化的解决方案
- ~~中英文两套（响应慢，体验差）~~
- ~~谷歌插件（无法按照需求翻译，技术难点较多）~~
- ~~translater组件实现翻译功能（大型网站不适用）~~
- I18n（麻烦，技术难点较多）

### 如何解决I18n带来的繁琐问题？

批量导入json文件、txt文件；按照格式对文件进行解析

mantis.home.header.title.zh: '标题1';
mantis.home.header.title.en: '标题2';
mantis.home.header.title.jp: '标题3';
mantis.home.header.title.xx: '标题4';
mantis.home.header.content: '内容'; 

产品经理可以按照模块，页面进行设计；生成的文件批量导入替换原有的sql内容